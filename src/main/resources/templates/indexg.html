<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">
<head>
<meta charset="ISO-8859-1">
<title>Liste des produits</title>
<link href="https://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-EVSTQN3/azprG1Anm3QDgpJLIm9Nao0Yz1ztcQTwFspd3yD65VohhpuuCOmLASjC" crossorigin="anonymous">

</head>
<body>
	<div class="container-fluid">
		<h1>List movies : <span th:text="${nombre}"></span></h1>
	
	<form method="post" action="/genre/search">
		<input type="text" name="nom" placeholder="saisir un genre"/>
		<input type="submit" value="rechercher"  placeholder="saisir un genre"/>
	</form>
	
	<form method="post" action="/genre/bygenre" id="form1">
		<div class="">	
		<label for="categorie">categorie : </label>
		<select class="" name="idcat" onchange="document.getElementById('form1').submit()">
		<option value="0">Tout les categories</option>
		<option th:each="genre : ${genres}" th:value="${genre.id}" th:text="${genre.nom}" th:selected="${genre.id==id}"></option>
		</select>
	
	</div>
	</form>	
	
	
	
	
	<table  class="table table-hover">
		<tr class="table-success">
			<th>id</th>
			<th>nom</th>
			
			<th>action</th>
		</tr>
	
		<tr th:each="genre : ${genres}">
			<td th:text="${genre.id}"></td>
			<td th:text="${genre.nom}"></td>
		
			<td ><a th:href="@{/genre/delete/{id} (id=${genre.id})}" class="btn btn-warning" onclick="return confirm('Are you sure you want to delete this movie ?')">delete</a>
			<a th:href="@{/genre/edit/{id} (id=${genre.id})}" class="btn btn-primary" onclick="return confirm('You want to edit the movie ?')">edit</a></td>
		
		</tr>
	</table>
</div>
</body>
</html>